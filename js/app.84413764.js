(function(e){function t(t){for(var i,s,a=t[0],o=t[1],l=t[2],u=0,p=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,a=1;a<r.length;a++){var o=r[a];0!==c[o]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var i={},c={app:0},n=[];function s(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=i,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=o;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);var i=r("830f"),c=r("5c40");const n={class:"container mx-auto flex flex-col items-center bg-gray-100 p-4"},s={class:"container"};function a(e,t,r,i,a,o){const l=Object(c["w"])("loading-spinner"),d=Object(c["w"])("add-ticker"),u=Object(c["w"])("tickers-list"),p=Object(c["w"])("ticker-graph");return Object(c["u"])(),Object(c["f"])("div",n,[Object(c["k"])(l),Object(c["g"])("div",s,[Object(c["k"])(d,{tickerInTickers:a.tickerInTickers,onAddTicker:o.addTicker},null,8,["tickerInTickers","onAddTicker"]),Object(c["k"])(u,{ticker:a.ticker,onTickerInTickers:o.sendTickerIsInTickers,onSelectTicker:o.selectTicker,onUpdateTicker:o.updateTicker},null,8,["ticker","onTickerInTickers","onSelectTicker","onUpdateTicker"]),Object(c["k"])(p,{selectedTicker:a.selectedTicker,tickerPrice:a.tickerPrice},null,8,["selectedTicker","tickerPrice"])])])}const o={key:0,class:"fixed w-100 h-100 opacity-80 bg-purple-800 inset-0 z-50 flex items-center justify-center"},l=Object(c["g"])("svg",{class:"animate-spin -ml-1 mr-3 h-12 w-12 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[Object(c["g"])("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),Object(c["g"])("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),d=[l];function u(e,t,r,i,n,s){return n.loading?(Object(c["u"])(),Object(c["f"])("div",o,d)):Object(c["e"])("",!0)}var p={name:"LoadingSpinner",data(){return{loading:!0}},created(){window.onload=()=>this.loading=!1}},h=r("6b0d"),k=r.n(h);const m=k()(p,[["render",u]]);var g=m;const b={class:"flex"},f={class:"max-w-xs"};function y(e,t,r,i,n,s){const a=Object(c["w"])("ticker-input"),o=Object(c["w"])("currencies-list"),l=Object(c["w"])("error-message"),d=Object(c["w"])("add-ticker-button");return Object(c["u"])(),Object(c["f"])("section",null,[Object(c["g"])("div",b,[Object(c["g"])("div",f,[Object(c["k"])(a,{ticker:n.ticker,tickerInTickers:r.tickerInTickers,currencyFromCurrenciesList:n.currencyFromCurrenciesList,onAddTicker:s.addTicker,onAutocomplete:s.autocomplete,onInputChanged:s.changeInput},null,8,["ticker","tickerInTickers","currencyFromCurrenciesList","onAddTicker","onAutocomplete","onInputChanged"]),Object(c["k"])(o,{tickerInTickers:r.tickerInTickers,currency:n.currency,onAddTicker:s.addTicker,onCurrencyInTickerInput:s.setCurrencyInTickerInput},null,8,["tickerInTickers","currency","onAddTicker","onCurrencyInTickerInput"]),Object(c["k"])(l,{tickerInTickers:r.tickerInTickers,inputChanged:n.tickerFromInput},null,8,["tickerInTickers","inputChanged"])])]),Object(c["k"])(d,{ticker:n.tickerFromInput,onAddTicker:s.addTicker},null,8,["ticker","onAddTicker"])])}var O=r("9ff4");const j=["disabled"],T=Object(c["g"])("svg",{class:"-ml-0.5 mr-2 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"},[Object(c["g"])("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})],-1);function v(e,t,r,i,n,s){return Object(c["u"])(),Object(c["f"])("button",{disabled:s.disabled,class:Object(O["J"])([{"bg-gray-400 hover:bg-gray-300":s.disabled,"bg-gray-600 hover:bg-gray-700":!s.disabled},"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"]),onClick:t[0]||(t[0]=e=>s.addTicker()),type:"button"},[T,Object(c["j"])(" Добавить ")],10,j)}var w={name:"AddTickerButton",props:{ticker:{type:String}},emits:["add-ticker"],data(){return{}},methods:{addTicker(){this.$emit("add-ticker",this.ticker)}},computed:{disabled(){return""===this.ticker}}};const x=k()(w,[["render",v]]);var I=x;const C={key:0,class:"flex bg-white shadow-md p-1 rounded-md shadow-md flex-wrap"},S=["onClick"];function A(e,t,r,i,n,s){return n.currencies.length?(Object(c["u"])(),Object(c["f"])("div",C,[(Object(c["u"])(!0),Object(c["f"])(c["b"],null,Object(c["v"])(n.currencies,e=>(Object(c["u"])(),Object(c["f"])("span",{key:e.id,onClick:t=>s.addTicker(e),class:"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"},Object(O["M"])(e),9,S))),128))])):Object(c["e"])("",!0)}r("14d9");const P="https://min-api.cryptocompare.com/data/all/coinlist?summary=true",F=e=>fetch(P).then(e=>e.json()).then(e=>e.Data).then(t=>{for(let r in t)e.push({Symbol:t[r]["Symbol"],FullName:t[r]["FullName"]})}).catch(e=>console.error(e));var E={name:"CurrenciesList",props:{currency:{type:String},tickerInTickers:{type:Array}},emits:["add-ticker","currency-in-ticker-input"],data(){return{currencies:["BTC","USDT","DOGE","LTC"],currenciesNamesFromApi:[]}},created(){F(this.currenciesNamesFromApi)},methods:{addTicker(e){this.$emit("add-ticker",e),this.$emit("currency-in-ticker-input",e)},autocomplete(){this.currencies=[];for(let e=0;e<this.currenciesNamesFromApi.length&&this.currencies.length<4;e++){let t=this.currenciesNamesFromApi[e].FullName,r=this.currenciesNamesFromApi[e].Symbol;t.slice(0,this.currency.length).toUpperCase()!==this.currency.toUpperCase()&&r.slice(0,this.currency.length).toUpperCase()!==this.currency.toUpperCase()||(this.currencies=[...this.currencies,r.toUpperCase()]||!1)}}},watch:{currency(){""!==this.currency?this.autocomplete():this.currencies=[]},tickerInTickers(e){!1===e[0]&&(this.currencies=[])}}};const M=k()(E,[["render",A]]);var $=M;const U={key:0,class:"text-sm text-red-600"};function L(e,t,r,i,n,s){return r.tickerInTickers[r.tickerInTickers.length-1]?(Object(c["u"])(),Object(c["f"])("div",U,Object(O["M"])(n.message),1)):Object(c["e"])("",!0)}var N={name:"ErrorMessage",props:{tickerInTickers:{type:Array},inputChanged:{type:String,required:!0}},data(){return{message:"Такой тикер уже добавлен"}},watch:{tickerInTickers(){this.message="Такой тикер уже добавлен"},inputChanged(){this.message=""}}};const G=k()(N,[["render",L]]);var z=G;const B={for:"wallet",class:"block text-sm font-medium text-gray-700"},D={class:"mt-1 relative rounded-md shadow-md"};function J(e,t,r,n,s,a){return Object(c["u"])(),Object(c["f"])("section",null,[Object(c["g"])("label",B,Object(O["M"])(s.ticker),1),Object(c["g"])("div",D,[Object(c["C"])(Object(c["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.ticker=e),onKeydown:t[1]||(t[1]=Object(i["c"])(e=>a.addTicker(),["enter"])),type:"text",name:"wallet",id:"wallet",class:"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:"Например DOGE",autocomplete:"off"},null,544),[[i["b"],s.ticker]])])])}var _={name:"TickerInput",props:{tickerInTickers:{type:Array},currencyFromCurrenciesList:{type:String}},emits:["add-ticker","autocomplete","input-changed"],data(){return{ticker:"",currency:this.currencyFromCurrenciesList}},methods:{addTicker(){this.$emit("add-ticker",this.ticker)},autocomplete(){this.$emit("autocomplete",this.ticker)}},watch:{currencyFromCurrenciesList(e){this.ticker=e},ticker(e){this.$emit("input-changed",e),this.$emit("autocomplete",e)},tickerInTickers(e){!1===e[0]&&(this.ticker="")}}};const R=k()(_,[["render",J]]);var V=R,W={name:"AddTicker",components:{CurrenciesList:$,ErrorMessage:z,TickerInput:V,AddTickerButton:I},props:{tickerInTickers:{type:Array}},emits:["add-ticker"],data(){return{ticker:"",currency:"",tickerFromInput:"",currencyFromCurrenciesList:""}},methods:{setCurrencyInTickerInput(e){this.currencyFromCurrenciesList=e},changeInput(e){this.tickerFromInput=e},addTicker(e){""!==e&&(this.ticker=e,this.$emit("add-ticker",e))},autocomplete(e){this.currency=e}}};const H=k()(W,[["render",y]]);var K=H;const Y=Object(c["g"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),q={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},Q=["onClick"],X=Object(c["g"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1);function Z(e,t,r,i,n,s){const a=Object(c["w"])("tickers-filter"),o=Object(c["w"])("ticker-item");return Object(c["u"])(),Object(c["f"])("section",null,[Object(c["k"])(a,{tickers:n.tickers,hasNextPage:s.hasNextPage,newPage:n.page,newFilter:n.filter,onUpdatePage:s.updatePage,onUpdateFilter:s.updateFilter},null,8,["tickers","hasNextPage","newPage","newFilter","onUpdatePage","onUpdateFilter"]),Object(c["g"])("section",null,[n.tickers.length&&s.filteredTickers.length?(Object(c["u"])(),Object(c["f"])(c["b"],{key:0},[Y,Object(c["g"])("dl",q,[(Object(c["u"])(!0),Object(c["f"])(c["b"],null,Object(c["v"])(s.paginatedTickers,e=>(Object(c["u"])(),Object(c["f"])("div",{onClick:t=>s.selectTicker(e),key:e.id,class:Object(O["J"])([{"border-4":n.selectedTicker===e},"flex flex-col bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer"])},[Object(c["k"])(o,{ticker:e,invalidTickers:n.invalidTickers,onRemoveTicker:s.removeTicker},null,8,["ticker","invalidTickers","onRemoveTicker"])],10,Q))),128))]),X],64)):Object(c["e"])("",!0)])])}const ee={class:"text-sm font-medium text-gray-500 truncate"},te={class:"mt-1 text-3xl font-semibold text-gray-900"},re=Object(c["g"])("div",{class:"w-full border-t border-gray-200"},null,-1),ie=Object(c["g"])("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"},[Object(c["g"])("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1);function ce(e,t,r,n,s,a){return Object(c["u"])(),Object(c["f"])(c["b"],null,[Object(c["g"])("div",{class:Object(O["J"])(["flex flex-col flex-grow px-4 py-5 sm:p-6 text-center",{"bg-red-100":r.invalidTickers.includes(r.ticker.name)}])},[Object(c["g"])("dt",ee,Object(O["M"])(r.ticker.name)+" - USD ",1),Object(c["g"])("dd",te,Object(O["M"])(a.formatPrice(r.ticker.price)),1)],2),re,Object(c["g"])("button",{onClick:t[0]||(t[0]=Object(i["d"])(e=>a.removeTicker(r.ticker),["stop"])),class:"flex self-end items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none"},[ie,Object(c["j"])(" Удалить ")])],64)}var ne={name:"TickerInput",props:{ticker:{type:Object},invalidTickers:{type:Array}},emits:["remove-ticker"],methods:{formatPrice(e){return"-"===e?e:e>1?e.toFixed(2):e.toPrecision(2)},removeTicker(e){this.$emit("remove-ticker",e)}}};const se=k()(ne,[["render",ce]]);var ae=se;const oe="wss://streamer.cryptocompare.com/v2?api_key=",le="2579a0b46e780867fb344a5915944d5573fecb55aac44c88c7ab4280d933b61d",de=new Map,ue=new Map,pe="5",he=new WebSocket(`${oe}${le}`);function ke(e=""){let t=e.split("~")[2];return t}function me(e){const t=JSON.stringify(e);he.readyState!==WebSocket.OPEN?he.addEventListener("open",()=>{he.send(t)},{once:!0}):he.send(t)}function ge(e){me({action:"SubAdd",subs:[`5~CCCAGG~${e}~USD`]})}function be(e){me({action:"SubRemove",subs:[`5~CCCAGG~${e}~USD`]})}he.addEventListener("message",e=>{var t;const{TYPE:r,FROMSYMBOL:i,PRICE:c,MESSAGE:n,PARAMETER:s}=JSON.parse(e.data),a=ke(s);if("INVALID_SUB"===n){var o;const e=null!==(o=ue.get(a))&&void 0!==o?o:[];e.forEach(e=>e(a))}if(r!==pe||void 0===c)return;const l=null!==(t=de.get(i))&&void 0!==t?t:[];l.forEach(e=>e(c))});const fe=(e,t)=>{const r=de.get(e)||[];de.set(e,[...r,t]),ge(e)},ye=e=>{de.delete(e),be(e)},Oe=(e,t)=>{const r=ue.get(e)||[];ue.set(e,[...r,t])},je=(e,t)=>{ue.delete(e),t(e)},Te={class:"block text-sm font-medium text-gray-700"},ve={key:2,class:"block text-md font-medium text-gray-700"};function we(e,t,r,n,s,a){return Object(c["u"])(),Object(c["f"])("section",null,[Object(c["g"])("p",Te,[Object(c["j"])(" Фильтр: "),Object(c["C"])(Object(c["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.filter=e),class:"block w-100 pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",type:"text"},null,512),[[i["b"],s.filter]])]),s.page>1?(Object(c["u"])(),Object(c["f"])("button",{key:0,onClick:t[1]||(t[1]=e=>s.page=s.page-1),class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mr-5"}," Назад ")):Object(c["e"])("",!0),r.hasNextPage?(Object(c["u"])(),Object(c["f"])("button",{key:1,onClick:t[2]||(t[2]=e=>s.page=s.page+1),class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 mr-5"}," Вперед ")):Object(c["e"])("",!0),r.tickers.length?(Object(c["u"])(),Object(c["f"])("p",ve,Object(O["M"])(s.page)+" страница ",1)):Object(c["e"])("",!0)])}var xe={name:"TickersFilter",props:{tickers:{type:Array},hasNextPage:{type:Boolean},newPage:{type:Number},newFilter:{type:String}},emits:["update-page","update-filter"],data(){return{filter:"",page:1}},created(){const e=Object.fromEntries(new URL(window.location).searchParams.entries()),t=["filter","page"];t.forEach(t=>{e[t]&&(this[t]=e[t],"page"===t&&(this[t]=Number(e[t])))})},methods:{},computed:{pageStateOptions(){return{filter:this.filter,page:this.page}}},watch:{page(){this.$emit("update-page",this.page)},filter(){this.$emit("update-filter",this.filter)},newPage(e){this.page=e},newFilter(e){this.filter=e},pageStateOptions(e){window.history.pushState(null,document.title,`${window.location.pathname}?filter=${e.filter}&page=${e.page}`)}}};const Ie=k()(xe,[["render",we]]);var Ce=Ie,Se={name:"TickersList",components:{TickerItem:ae,TickersFilter:Ce},props:{ticker:{type:Array}},emits:["ticker-in-tickers","update-ticker","select-ticker"],data(){return{filter:"",tickers:[],invalidTickers:[],selectedTicker:null,page:1}},created(){const e=localStorage.getItem("cryptonomicon-list");e&&(this.tickers=JSON.parse(e),this.tickers.forEach(e=>{fe(e.name,t=>{this.updateTicker(e.name,t)}),Oe(e.name,()=>{this.invalidTickers.push(e.name)})}))},methods:{updatePage(e){this.page=e},updateFilter(e){this.filter=e},updateTicker(e,t){this.tickers.filter(t=>t.name===e).forEach(e=>{e===this.selectedTicker&&this.$emit("update-ticker",t),e.price=t})},addTicker(e){if(this.tickers.every(t=>t.name!==e.toUpperCase())){const t={name:e.toUpperCase(),price:"-"};this.tickers=[...this.tickers,t],this.filter="",fe(t.name,e=>{this.updateTicker(t.name,e)}),Oe(t.name,()=>{this.invalidTickers.push(t.name)}),this.$emit("ticker-in-tickers",!1)}else this.$emit("ticker-in-tickers",!0)},removeTicker(e){this.tickers=this.tickers.filter(t=>t!==e),this.selectedTicker===e&&(this.selectedTicker=null,this.$emit("ticker-in-tickers",!1)),ye(e.name),je(e.name,()=>{this.invalidTickers=this.invalidTickers.filter(t=>t!==e.name)})},selectTicker(e){this.selectedTicker=e}},computed:{startIndex(){return 6*(this.page-1)},endIndex(){return 6*this.page},filteredTickers(){return this.tickers.filter(e=>e.name.slice(0,this.filter.length).toUpperCase()===this.filter.toUpperCase())},paginatedTickers(){return this.filteredTickers.slice(this.startIndex,this.endIndex)},hasNextPage(){return this.filteredTickers.length>this.endIndex}},watch:{selectedTicker(){this.$emit("select-ticker",this.selectedTicker)},ticker(e){this.addTicker(e[e.length-1])},tickers(){localStorage.setItem("cryptonomicon-list",JSON.stringify(this.tickers))},paginatedTickers(){0===this.paginatedTickers.length&&this.page>1&&(this.page-=1)},filter(){this.page=1}}};const Ae=k()(Se,[["render",Z]]);var Pe=Ae;const Fe={key:0,class:"relative"},Ee={class:"text-lg leading-6 font-medium text-gray-900 my-8"},Me={class:"flex items-end border-gray-600 border-b border-l h-64",ref:"graph"},$e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},Ue=Object(c["g"])("g",null,[Object(c["g"])("path",{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"})],-1),Le=[Ue];function Ne(e,t,r,i,n,s){return n.tickerToSelect?(Object(c["u"])(),Object(c["f"])("section",Fe,[Object(c["g"])("h3",Ee,Object(O["M"])(n.tickerToSelect.name)+" - USD ",1),Object(c["g"])("div",Me,[(Object(c["u"])(!0),Object(c["f"])(c["b"],null,Object(c["v"])(s.normalizedGraph,(e,t)=>(Object(c["u"])(),Object(c["f"])("div",{key:t,style:Object(O["K"])({height:e+"%"}),class:"bg-purple-800 border w-10",ref_for:!0,ref:"graphBar"},null,4))),128))],512),Object(c["g"])("button",{onClick:t[0]||(t[0]=e=>n.tickerToSelect=null),type:"button",class:"absolute top-0 right-0"},[(Object(c["u"])(),Object(c["f"])("svg",$e,Le))])])):Object(c["e"])("",!0)}var Ge={name:"Graph",props:{selectedTicker:{type:Object},tickerPrice:{type:Number}},data(){return{graph:[],maxGraphElements:1,graphBarWidth:38,tickerToSelect:this.selectedTicker}},mounted(){window.addEventListener("resize",this.calculateMaxGraphElements)},beforeUnmount(){window.removeEventListener("resize",this.calculateMaxGraphElements)},methods:{calculateMaxGraphElements(){this.$refs.graph&&(this.maxGraphElements=this.$refs.graph.clientWidth/this.graphBarWidth,this.graph.length>this.maxGraphElements&&(this.graph=this.graph.slice(-this.maxGraphElements)))}},computed:{normalizedGraph(){const e=Math.max(...this.graph),t=Math.min(...this.graph);return e===t?this.graph.map(()=>50):this.graph.map(r=>5+95*(r-t)/(e-t))}},watch:{selectedTicker(e){this.tickerToSelect=e,this.graph=[],this.$nextTick().then(this.calculateMaxGraphElements)},tickerPrice(e){this.graph=[...this.graph,e],this.graph.length>this.maxGraphElements&&(this.graph=this.graph.slice(-this.maxGraphElements))}}};const ze=k()(Ge,[["render",Ne]]);var Be=ze,De={name:"App",components:{LoadingSpinner:g,AddTicker:K,TickersList:Pe,TickerGraph:Be},data(){return{ticker:[],tickerInTickers:[],selectedTicker:null,tickerPrice:0}},methods:{updateTicker(e){this.tickerPrice=e},sendTickerIsInTickers(e){this.ticker.shift(),this.tickerInTickers=[...this.tickerInTickers,e]},addTicker(e){this.ticker=[...this.ticker,e],this.tickerInTickers=[]},selectTicker(e){this.selectedTicker=e}}};const Je=k()(De,[["render",a]]);var _e=Je;r("ba8c");Object(i["a"])(_e).mount("#app")},ba8c:function(e,t,r){}});
//# sourceMappingURL=app.84413764.js.map